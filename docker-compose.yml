version: '3.3'
services:

    bitcoind_service:
        image: bitcoind_image
        build:
            context: bitcoind/
        container_name: bitcoind_container
        volumes:
            - ./bitcoind/bitcoin:/root/bitcoin
        environment:
            - BITCOIN_CONFIG=${BITCOIN_CONFIG}
        restart: always
        entrypoint: ["./start-bitcoind.sh"]


    lnd_service:
        image: lnd_image
        build:
            context: lnd/
        container_name: lnd_container
        volumes:
          - ./lnd/lnd:/root/lnd
        depends_on:
            - bitcoind_service
        environment:
            - LND_CONFIG=${LND_CONFIG}
        restart: always
        entrypoint: ["./start-lnd.sh"]

